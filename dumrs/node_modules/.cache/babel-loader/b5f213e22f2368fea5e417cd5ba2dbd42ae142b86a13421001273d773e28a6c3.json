{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shreesh\\\\Desktop\\\\vs code\\\\c programming\\\\DUMRS\\\\dumrs\\\\src\\\\pages\\\\addrecord.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { PlusCircle, AlertCircle, FileUp, ChevronDown, ChevronUp, Syringe, Stethoscope, Building2, X, Check } from 'lucide-react';\nimport Sidebar from '../components/sidebar';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Section = ({\n  title,\n  icon,\n  id,\n  isActive,\n  onToggle,\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white rounded-xl p-6 shadow-sm space-y-4\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-between items-center cursor-pointer\",\n    onClick: onToggle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-3\",\n      children: [icon, /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-purple-600\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), isActive ? /*#__PURE__*/_jsxDEV(ChevronUp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 35\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this), isActive && children]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 3\n}, this);\n_c = Section;\nconst AddMedicalRecord = () => {\n  _s();\n  const [activeSection, setActiveSection] = useState('basic');\n  const [includeHospitalStay, setIncludeHospitalStay] = useState(false);\n  const [includeSurgery, setIncludeSurgery] = useState(false);\n  const [formProgress, setFormProgress] = useState(0);\n  const [validationErrors, setValidationErrors] = useState({});\n  const {\n    patientId\n  } = useParams();\n  const [formData, setFormData] = useState({\n    visitType: '',\n    visitDate: '',\n    chiefComplaint: '',\n    vitalSigns: {\n      bloodPressure: '',\n      heartRate: '',\n      temperature: ''\n    },\n    labResults: {\n      bloodTests: [],\n      urineTests: [],\n      otherTests: []\n    },\n    dischargeSummary: {\n      admissionDate: '',\n      dischargeDate: '',\n      inpatientSummary: ''\n    },\n    procedures: {\n      surgeryType: '',\n      surgeryDate: '',\n      procedureSummary: '',\n      postOpInstructions: ''\n    }\n  });\n\n  // Common handle input change function\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Handle nested objects\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n\n  // Rest of the validation logic remains the same\n  const validateForm = () => {\n    const errors = {};\n    if (!formData.visitType) errors.visitType = 'Visit type is required';\n    if (!formData.visitDate) errors.visitDate = 'Visit date is required';\n    if (!formData.chiefComplaint) errors.chiefComplaint = 'Chief complaint is required';\n    if (!formData.vitalSigns.bloodPressure) errors.bloodPressure = 'Blood pressure is required';\n    if (!formData.vitalSigns.heartRate) errors.heartRate = 'Heart rate is required';\n    if (!formData.vitalSigns.temperature) errors.temperature = 'Temperature is required';\n    if (includeHospitalStay) {\n      if (!formData.dischargeSummary.admissionDate) errors.admissionDate = 'Admission date is required';\n      if (!formData.dischargeSummary.dischargeDate) errors.dischargeDate = 'Discharge date is required';\n    }\n    if (includeSurgery) {\n      if (!formData.procedures.surgeryType) errors.surgeryType = 'Surgery type is required';\n      if (!formData.procedures.surgeryDate) errors.surgeryDate = 'Surgery date is required';\n    }\n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const formatFormDataForSubmission = () => {\n    const formDataToSubmit = new FormData();\n\n    // Add basic fields\n    formDataToSubmit.append('patientId', patientId);\n    formDataToSubmit.append('visitType', formData.visitType);\n    formDataToSubmit.append('visitDate', formData.visitDate);\n    formDataToSubmit.append('chiefComplaint', formData.chiefComplaint);\n\n    // Add vital signs as a JSON string\n    formDataToSubmit.append('vitalSigns', JSON.stringify({\n      bloodPressure: formData.vitalSigns.bloodPressure,\n      heartRate: formData.vitalSigns.heartRate,\n      temperature: formData.vitalSigns.temperature\n    }));\n\n    // Add hospital stay information if included\n    if (includeHospitalStay) {\n      formDataToSubmit.append('dischargeSummary', JSON.stringify({\n        admissionDate: formData.dischargeSummary.admissionDate,\n        dischargeDate: formData.dischargeSummary.dischargeDate,\n        inpatientSummary: formData.dischargeSummary.inpatientSummary\n      }));\n    }\n\n    // Add surgery information if included\n    if (includeSurgery) {\n      formDataToSubmit.append('procedures', JSON.stringify({\n        surgeryType: formData.procedures.surgeryType,\n        surgeryDate: formData.procedures.surgeryDate,\n        procedureSummary: formData.procedures.procedureSummary,\n        postOpInstructions: formData.procedures.postOpInstructions\n      }));\n    }\n\n    // Properly append files with their actual File objects\n    formData.labResults.bloodTests.forEach((fileData, index) => {\n      formDataToSubmit.append(`bloodTests`, fileData.file);\n    });\n    formData.labResults.urineTests.forEach((fileData, index) => {\n      formDataToSubmit.append(`urineTests`, fileData.file);\n    });\n    formData.labResults.otherTests.forEach((fileData, index) => {\n      formDataToSubmit.append(`otherTests`, fileData.file);\n    });\n    return formDataToSubmit;\n  };\n  const handleFormSubmission = async e => {\n    e.preventDefault();\n    console.log(formData);\n    if (!validateForm()) {\n      return;\n    }\n    try {\n      const formData = formatFormDataForSubmission();\n      const response = await fetch(`http://localhost:4000/patient/${patientId}/add-record`, {\n        method: 'POST',\n        body: formData // Send FormData directly\n      });\n      if (!response.ok) {\n        throw new Error('Failed to save medical record');\n      }\n      const savedRecord = await response.json();\n      console.log('Record saved successfully:', savedRecord);\n    } catch (error) {\n      console.error('Error submitting medical record:', error);\n    }\n  };\n\n  // File handling functions remain the same\n  const handleFileUpload = (fieldName, files) => {\n    const maxSize = 5 * 1024 * 1024;\n    const allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];\n    const fileList = Array.from(files).map(file => {\n      if (file.size > maxSize) {\n        setValidationErrors(prev => ({\n          ...prev,\n          [fieldName]: `File ${file.name} exceeds 5MB limit`\n        }));\n        return null;\n      }\n      if (!allowedTypes.includes(file.type)) {\n        setValidationErrors(prev => ({\n          ...prev,\n          [fieldName]: `File ${file.name} must be JPEG, PNG, or PDF`\n        }));\n        return null;\n      }\n      return {\n        file: file,\n        // Store the actual File object\n        name: file.name,\n        url: URL.createObjectURL(file),\n        type: file.type,\n        size: file.size\n      };\n    }).filter(file => file !== null);\n    setFormData(prev => {\n      if (fieldName === 'bloodTests' || fieldName === 'urineTests' || fieldName === 'otherTests') {\n        return {\n          ...prev,\n          labResults: {\n            ...prev.labResults,\n            [fieldName]: [...prev.labResults[fieldName], ...fileList]\n          }\n        };\n      }\n      return prev;\n    });\n  };\n  useEffect(() => {\n    return () => {\n      // Cleanup file URLs when component unmounts\n      formData.labResults.bloodTests.forEach(file => {\n        if (file.url) URL.revokeObjectURL(file.url);\n      });\n      formData.labResults.urineTests.forEach(file => {\n        if (file.url) URL.revokeObjectURL(file.url);\n      });\n      formData.labResults.otherTests.forEach(file => {\n        if (file.url) URL.revokeObjectURL(file.url);\n      });\n    };\n  }, []);\n\n  // Progress calculation remains the same\n  useEffect(() => {\n    const calculateProgress = () => {\n      const requiredFields = [formData.visitType, formData.visitDate, formData.chiefComplaint, formData.vitalSigns.bloodPressure, formData.vitalSigns.heartRate];\n      const optionalFields = [...(includeHospitalStay ? [formData.dischargeSummary.admissionDate, formData.dischargeSummary.dischargeDate] : []), ...(includeSurgery ? [formData.procedures.surgeryType, formData.procedures.surgeryDate] : [])];\n      const totalFields = requiredFields.length + optionalFields.length;\n      const filledFields = [...requiredFields, ...optionalFields].filter(field => field).length;\n      setFormProgress(Math.round(filledFields / totalFields * 100));\n    };\n    calculateProgress();\n  }, [formData.visitType, formData.visitDate, formData.chiefComplaint, formData.vitalSigns.bloodPressure, formData.vitalSigns.heartRate, formData.dischargeSummary.admissionDate, formData.dischargeSummary.dischargeDate, formData.procedures.surgeryType, formData.procedures.surgeryDate, includeHospitalStay, includeSurgery]);\n  const removeFile = (fieldName, fileIndex) => {\n    setFormData(prev => {\n      if (fieldName === 'bloodTests' || fieldName === 'urineTests' || fieldName === 'otherTests') {\n        // Revoke URL before removing the file\n        const fileToRemove = prev.labResults[fieldName][fileIndex];\n        if (fileToRemove !== null && fileToRemove !== void 0 && fileToRemove.url) URL.revokeObjectURL(fileToRemove.url);\n        return {\n          ...prev,\n          labResults: {\n            ...prev.labResults,\n            [fieldName]: prev.labResults[fieldName].filter((_, index) => index !== fileIndex)\n          }\n        };\n      }\n      return prev;\n    });\n  };\n\n  // Component definitions remain the same\n\n  const FilePreview = ({\n    files,\n    fieldName\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-4 space-y-2\",\n    children: files.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between p-2 bg-gray-50 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(FileUp, {\n          size: 20,\n          className: \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-700\",\n          children: file.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500\",\n          children: [\"(\", (file.size / 1024 / 1024).toFixed(2), \" MB)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => removeFile(fieldName, index),\n        className: \"text-red-500 hover:text-red-700\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-[100%] p-6 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-purple-600\",\n            children: \"Medical Record\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-600\",\n            children: [formProgress, \"% Complete\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-purple-600 h-2 rounded-full transition-all duration-300\",\n            style: {\n              width: `${formProgress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Basic Information\",\n        icon: /*#__PURE__*/_jsxDEV(Stethoscope, {\n          className: \"text-purple-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 17\n        }, this),\n        id: \"basic\",\n        isActive: activeSection === 'basic',\n        onToggle: () => setActiveSection(activeSection === 'basic' ? null : 'basic'),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Visit Type*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"visitType\",\n                className: `w-full p-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${validationErrors.visitType ? 'border-red-500' : 'border-gray-300'}`,\n                value: formData.visitType,\n                onChange: handleInputChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Outpatient\",\n                  children: \"Outpatient\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Inpatient\",\n                  children: \"Inpatient\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Emergency\",\n                  children: \"Emergency\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this), validationErrors.visitType && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: validationErrors.visitType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Visit Date*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"visitDate\",\n                className: `w-full p-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${validationErrors.visitDate ? 'border-red-500' : 'border-gray-300'}`,\n                value: formData.visitDate,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), validationErrors.visitDate && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: validationErrors.visitDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Chief Complaint*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"chiefComplaint\",\n              className: `w-full p-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${validationErrors.chiefComplaint ? 'border-red-500' : 'border-gray-300'}`,\n              rows: 3,\n              value: formData.chiefComplaint,\n              onChange: handleInputChange,\n              placeholder: \"Describe the main reason for visit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this), validationErrors.chiefComplaint && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: validationErrors.chiefComplaint\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Diagnostic Information\",\n        icon: /*#__PURE__*/_jsxDEV(Syringe, {\n          className: \"text-purple-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 17\n        }, this),\n        id: \"diagnostic\",\n        isActive: activeSection === 'diagnostic',\n        onToggle: () => setActiveSection(activeSection === 'diagnostic' ? null : 'diagnostic'),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-3\",\n              children: \"Vital Signs*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-3 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Blood Pressure\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"vitalSigns.bloodPressure\",\n                  className: `w-full p-2 border rounded-lg ${validationErrors.bloodPressure ? 'border-red-500' : 'border-gray-300'}`,\n                  placeholder: \"120/80 mmHg\",\n                  value: formData.vitalSigns.bloodPressure,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Heart Rate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"vitalSigns.heartRate\",\n                  className: `w-full p-2 border rounded-lg ${validationErrors.heartRate ? 'border-red-500' : 'border-gray-300'}`,\n                  placeholder: \"BPM\",\n                  value: formData.vitalSigns.heartRate,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Temperature\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"vitalSigns.temperature\",\n                  className: `w-full p-2 border rounded-lg ${validationErrors.temperature ? 'border-red-500' : 'border-gray-300'}`,\n                  placeholder: \"\\xB0F\",\n                  value: formData.vitalSigns.temperature,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-3\",\n              children: \"Lab Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Blood Tests\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: \"hidden\",\n                  id: \"blood-tests\",\n                  multiple: true,\n                  onChange: e => handleFileUpload('bloodTests', e.target.files)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"blood-tests\",\n                  className: \"flex items-center gap-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                    className: \"text-purple-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Upload Blood Test Results\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FilePreview, {\n                  files: formData.labResults.bloodTests,\n                  fieldName: \"bloodTests\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Urine Tests\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: \"hidden\",\n                  id: \"urine-tests\",\n                  multiple: true,\n                  onChange: e => handleFileUpload('urineTests', e.target.files)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"urine-tests\",\n                  className: \"flex items-center gap-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                    className: \"text-purple-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Upload Urine Test Results\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FilePreview, {\n                  files: formData.labResults.urineTests,\n                  fieldName: \"urineTests\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Other Tests\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: \"hidden\",\n                  id: \"other-tests\",\n                  multiple: true,\n                  onChange: e => handleFileUpload('otherTests', e.target.files)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"other-tests\",\n                  className: \"flex items-center gap-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                    className: \"text-purple-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Upload Other Test Results\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FilePreview, {\n                  files: formData.labResults.otherTests,\n                  fieldName: \"otherTests\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Hospital Stay\",\n        icon: /*#__PURE__*/_jsxDEV(Building2, {\n          className: \"text-purple-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 17\n        }, this),\n        id: \"hospital\",\n        isActive: activeSection === 'hospital',\n        onToggle: () => setActiveSection(activeSection === 'hospital' ? null : 'hospital'),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"include-hospital\",\n              checked: includeHospitalStay,\n              onChange: e => setIncludeHospitalStay(e.target.checked),\n              className: \"rounded text-purple-600 focus:ring-purple-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"include-hospital\",\n              className: \"text-sm text-gray-700\",\n              children: \"Include Hospital Stay Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this), includeHospitalStay && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Admission Date*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"dischargeSummary.admissionDate\",\n                  className: `w-full p-2 border rounded-lg ${validationErrors.admissionDate ? 'border-red-500' : 'border-gray-300'}`,\n                  value: formData.dischargeSummary.admissionDate,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Discharge Date*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"dischargeSummary.dischargeDate\",\n                  className: `w-full p-2 border rounded-lg ${validationErrors.dischargeDate ? 'border-red-500' : 'border-gray-300'}`,\n                  value: formData.dischargeSummary.dischargeDate,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Inpatient Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"dischargeSummary.inpatientSummary\",\n                className: \"w-full p-2 border border-gray-300 rounded-lg\",\n                rows: 4,\n                value: formData.dischargeSummary.inpatientSummary,\n                onChange: handleInputChange,\n                placeholder: \"Enter inpatient summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Surgery Information\",\n        icon: /*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"text-purple-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 17\n        }, this),\n        id: \"surgery\",\n        isActive: activeSection === 'surgery',\n        onToggle: () => setActiveSection(activeSection === 'surgery' ? null : 'surgery'),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"include-surgery\",\n              checked: includeSurgery,\n              onChange: e => setIncludeSurgery(e.target.checked),\n              className: \"rounded text-purple-600 focus:ring-purple-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"include-surgery\",\n              className: \"text-sm text-gray-700\",\n              children: \"Include Surgery Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 13\n          }, this), includeSurgery && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Surgery Type*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 628,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"procedures.surgeryType\",\n                  className: `w-full p-2 border rounded-lg ${validationErrors.surgeryType ? 'border-red-500' : 'border-gray-300'}`,\n                  value: formData.procedures.surgeryType,\n                  onChange: handleInputChange,\n                  placeholder: \"Enter surgery type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Surgery Date*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"procedures.surgeryDate\",\n                  className: `w-full p-2 border rounded-lg ${validationErrors.surgeryDate ? 'border-red-500' : 'border-gray-300'}`,\n                  value: formData.procedures.surgeryDate,\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Procedure Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"procedures.procedureSummary\",\n                className: \"w-full p-2 border border-gray-300 rounded-lg\",\n                rows: 4,\n                value: formData.procedures.procedureSummary,\n                onChange: handleInputChange,\n                placeholder: \"Enter procedure summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Post-Op Instructions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"procedures.postOpInstructions\",\n                className: \"w-full p-2 border border-gray-300 rounded-lg\",\n                rows: 4,\n                value: formData.procedures.postOpInstructions,\n                onChange: handleInputChange,\n                placeholder: \"Enter post-operative instructions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200\",\n          onClick: () => {\n            setFormData({\n              id: '',\n              visitType: '',\n              visitDate: '',\n              chiefComplaint: '',\n              vitalSigns: {\n                bloodPressure: '',\n                heartRate: '',\n                temperature: '',\n                respiratoryRate: '',\n                oxygenSaturation: ''\n              },\n              diagnosticTests: [],\n              labResults: {\n                bloodTests: [],\n                urineTests: [],\n                otherTests: []\n              },\n              impressions: '',\n              dischargeSummary: {\n                admissionDate: '',\n                dischargeDate: '',\n                inpatientSummary: '',\n                referrals: []\n              },\n              procedures: {\n                surgeryType: '',\n                surgeryDate: '',\n                anesthesiaType: '',\n                procedureSummary: '',\n                complications: '',\n                postOpInstructions: ''\n              }\n            });\n            setValidationErrors({});\n          },\n          children: \"Reset Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-4 py-2 text-white bg-purple-600 rounded-lg hover:bg-purple-700\",\n          onClick: handleFormSubmission,\n          children: \"Save Record\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 337,\n    columnNumber: 5\n  }, this);\n};\n_s(AddMedicalRecord, \"VDk3YxaCVmoP37S7lZQVwy1F4cc=\", false, function () {\n  return [useParams];\n});\n_c2 = AddMedicalRecord;\nexport default AddMedicalRecord;\nvar _c, _c2;\n$RefreshReg$(_c, \"Section\");\n$RefreshReg$(_c2, \"AddMedicalRecord\");","map":{"version":3,"names":["React","useState","useEffect","PlusCircle","AlertCircle","FileUp","ChevronDown","ChevronUp","Syringe","Stethoscope","Building2","X","Check","Sidebar","useParams","jsxDEV","_jsxDEV","Section","title","icon","id","isActive","onToggle","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","AddMedicalRecord","_s","activeSection","setActiveSection","includeHospitalStay","setIncludeHospitalStay","includeSurgery","setIncludeSurgery","formProgress","setFormProgress","validationErrors","setValidationErrors","patientId","formData","setFormData","visitType","visitDate","chiefComplaint","vitalSigns","bloodPressure","heartRate","temperature","labResults","bloodTests","urineTests","otherTests","dischargeSummary","admissionDate","dischargeDate","inpatientSummary","procedures","surgeryType","surgeryDate","procedureSummary","postOpInstructions","handleInputChange","e","name","value","target","includes","parent","child","split","prev","validateForm","errors","Object","keys","length","formatFormDataForSubmission","formDataToSubmit","FormData","append","JSON","stringify","forEach","fileData","index","file","handleFormSubmission","preventDefault","console","log","response","fetch","method","body","ok","Error","savedRecord","json","error","handleFileUpload","fieldName","files","maxSize","allowedTypes","fileList","Array","from","map","size","type","url","URL","createObjectURL","filter","revokeObjectURL","calculateProgress","requiredFields","optionalFields","totalFields","filledFields","field","Math","round","removeFile","fileIndex","fileToRemove","_","FilePreview","toFixed","style","width","onChange","rows","placeholder","multiple","htmlFor","checked","respiratoryRate","oxygenSaturation","diagnosticTests","impressions","referrals","anesthesiaType","complications","_c2","$RefreshReg$"],"sources":["C:/Users/shreesh/Desktop/vs code/c programming/DUMRS/dumrs/src/pages/addrecord.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { PlusCircle, AlertCircle, FileUp, ChevronDown, ChevronUp, Syringe, Stethoscope, Building2, X, Check } from 'lucide-react';\r\nimport Sidebar from '../components/sidebar';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst Section = ({ title, icon, id, isActive, onToggle, children }) => (\r\n  <div className=\"bg-white rounded-xl p-6 shadow-sm space-y-4\">\r\n    <div \r\n      className=\"flex justify-between items-center cursor-pointer\"\r\n      onClick={onToggle}\r\n    >\r\n      <div className=\"flex items-center gap-3\">\r\n        {icon}\r\n        <h2 className=\"text-xl font-semibold text-purple-600\">{title}</h2>\r\n      </div>\r\n      {isActive ? <ChevronUp /> : <ChevronDown />}\r\n    </div>\r\n    {isActive && children}\r\n  </div>\r\n);\r\n\r\nconst AddMedicalRecord = () => {\r\n  const [activeSection, setActiveSection] = useState('basic');\r\n  const [includeHospitalStay, setIncludeHospitalStay] = useState(false);\r\n  const [includeSurgery, setIncludeSurgery] = useState(false);\r\n  const [formProgress, setFormProgress] = useState(0);\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  \r\n  const {patientId} = useParams();\r\n\r\n  const [formData, setFormData] = useState({\r\n    visitType: '',\r\n    visitDate: '',\r\n    chiefComplaint: '',\r\n    \r\n    vitalSigns: {\r\n      bloodPressure: '',\r\n      heartRate: '',\r\n      temperature: '',\r\n    },\r\n    labResults: {\r\n      bloodTests: [],\r\n      urineTests: [],\r\n      otherTests: []\r\n    },\r\n    dischargeSummary: {\r\n      admissionDate: '',\r\n      dischargeDate: '',\r\n      inpatientSummary: '',\r\n    },\r\n    procedures: {\r\n      surgeryType: '',\r\n      surgeryDate: '',\r\n      procedureSummary: '',\r\n      postOpInstructions: ''\r\n    }\r\n  });\r\n\r\n  // Common handle input change function\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Handle nested objects\r\n    if (name.includes('.')) {\r\n      const [parent, child] = name.split('.');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [parent]: {\r\n          ...prev[parent],\r\n          [child]: value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Rest of the validation logic remains the same\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    \r\n    if (!formData.visitType) errors.visitType = 'Visit type is required';\r\n    if (!formData.visitDate) errors.visitDate = 'Visit date is required';\r\n    if (!formData.chiefComplaint) errors.chiefComplaint = 'Chief complaint is required';\r\n    \r\n    if (!formData.vitalSigns.bloodPressure) errors.bloodPressure = 'Blood pressure is required';\r\n    if (!formData.vitalSigns.heartRate) errors.heartRate = 'Heart rate is required';\r\n    if (!formData.vitalSigns.temperature) errors.temperature = 'Temperature is required';\r\n    \r\n    \r\n    if (includeHospitalStay) {\r\n      if (!formData.dischargeSummary.admissionDate) errors.admissionDate = 'Admission date is required';\r\n      if (!formData.dischargeSummary.dischargeDate) errors.dischargeDate = 'Discharge date is required';\r\n    }\r\n    \r\n    if (includeSurgery) {\r\n      if (!formData.procedures.surgeryType) errors.surgeryType = 'Surgery type is required';\r\n      if (!formData.procedures.surgeryDate) errors.surgeryDate = 'Surgery date is required';\r\n    }\r\n    \r\n    setValidationErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n  const formatFormDataForSubmission = () => {\r\n    const formDataToSubmit = new FormData();\r\n    \r\n    // Add basic fields\r\n    formDataToSubmit.append('patientId', patientId);\r\n    formDataToSubmit.append('visitType', formData.visitType);\r\n    formDataToSubmit.append('visitDate', formData.visitDate);\r\n    formDataToSubmit.append('chiefComplaint', formData.chiefComplaint);\r\n    \r\n    // Add vital signs as a JSON string\r\n    formDataToSubmit.append('vitalSigns', JSON.stringify({\r\n      bloodPressure: formData.vitalSigns.bloodPressure,\r\n      heartRate: formData.vitalSigns.heartRate,\r\n      temperature: formData.vitalSigns.temperature,\r\n    }));\r\n\r\n    // Add hospital stay information if included\r\n    if (includeHospitalStay) {\r\n      formDataToSubmit.append('dischargeSummary', JSON.stringify({\r\n        admissionDate: formData.dischargeSummary.admissionDate,\r\n        dischargeDate: formData.dischargeSummary.dischargeDate,\r\n        inpatientSummary: formData.dischargeSummary.inpatientSummary,\r\n      }));\r\n    }\r\n\r\n    // Add surgery information if included\r\n    if (includeSurgery) {\r\n      formDataToSubmit.append('procedures', JSON.stringify({\r\n        surgeryType: formData.procedures.surgeryType,\r\n        surgeryDate: formData.procedures.surgeryDate,\r\n        procedureSummary: formData.procedures.procedureSummary,\r\n        postOpInstructions: formData.procedures.postOpInstructions,\r\n      }));\r\n    }\r\n    \r\n    // Properly append files with their actual File objects\r\n    formData.labResults.bloodTests.forEach((fileData, index) => {\r\n      formDataToSubmit.append(`bloodTests`, fileData.file);\r\n    });\r\n    \r\n    formData.labResults.urineTests.forEach((fileData, index) => {\r\n      formDataToSubmit.append(`urineTests`, fileData.file);\r\n    });\r\n    \r\n    formData.labResults.otherTests.forEach((fileData, index) => {\r\n      formDataToSubmit.append(`otherTests`, fileData.file);\r\n    });\r\n\r\n    return formDataToSubmit;\r\n  };\r\n  \r\n\r\n  const handleFormSubmission = async (e) => {\r\n    e.preventDefault();\r\n    console.log(formData);\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const formData = formatFormDataForSubmission();\r\n      \r\n      const response = await fetch(`http://localhost:4000/patient/${patientId}/add-record`, {\r\n        method: 'POST',\r\n        body: formData, // Send FormData directly\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to save medical record');\r\n      }\r\n      \r\n      const savedRecord = await response.json();\r\n      console.log('Record saved successfully:', savedRecord);\r\n      \r\n    } catch (error) {\r\n      console.error('Error submitting medical record:', error);\r\n    }\r\n  };\r\n\r\n  // File handling functions remain the same\r\n  const handleFileUpload = (fieldName, files) => {\r\n    const maxSize = 5 * 1024 * 1024;\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];\r\n    \r\n    const fileList = Array.from(files).map(file => {\r\n      if (file.size > maxSize) {\r\n        setValidationErrors(prev => ({\r\n          ...prev,\r\n          [fieldName]: `File ${file.name} exceeds 5MB limit`\r\n        }));\r\n        return null;\r\n      }\r\n      \r\n      if (!allowedTypes.includes(file.type)) {\r\n        setValidationErrors(prev => ({\r\n          ...prev,\r\n          [fieldName]: `File ${file.name} must be JPEG, PNG, or PDF`\r\n        }));\r\n        return null;\r\n      }\r\n      \r\n      return {\r\n        file: file, // Store the actual File object\r\n        name: file.name,\r\n        url: URL.createObjectURL(file),\r\n        type: file.type,\r\n        size: file.size,\r\n      };\r\n    }).filter(file => file !== null);\r\n    \r\n    setFormData(prev => {\r\n      if (fieldName === 'bloodTests' || fieldName === 'urineTests' || fieldName === 'otherTests') {\r\n        return {\r\n          ...prev,\r\n          labResults: {\r\n            ...prev.labResults,\r\n            [fieldName]: [...prev.labResults[fieldName], ...fileList]\r\n          }\r\n        };\r\n      }\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      // Cleanup file URLs when component unmounts\r\n      formData.labResults.bloodTests.forEach(file => {\r\n        if (file.url) URL.revokeObjectURL(file.url);\r\n      });\r\n      formData.labResults.urineTests.forEach(file => {\r\n        if (file.url) URL.revokeObjectURL(file.url);\r\n      });\r\n      formData.labResults.otherTests.forEach(file => {\r\n        if (file.url) URL.revokeObjectURL(file.url);\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  // Progress calculation remains the same\r\n  useEffect(() => {\r\n    const calculateProgress = () => {\r\n      const requiredFields = [\r\n        formData.visitType,\r\n        formData.visitDate,\r\n        formData.chiefComplaint,\r\n        formData.vitalSigns.bloodPressure,\r\n        formData.vitalSigns.heartRate\r\n      ];\r\n      \r\n      const optionalFields = [\r\n        ...(includeHospitalStay ? [\r\n          formData.dischargeSummary.admissionDate,\r\n          formData.dischargeSummary.dischargeDate\r\n        ] : []),\r\n        ...(includeSurgery ? [\r\n          formData.procedures.surgeryType,\r\n          formData.procedures.surgeryDate\r\n        ] : [])\r\n      ];\r\n      \r\n      const totalFields = requiredFields.length + optionalFields.length;\r\n      const filledFields = [...requiredFields, ...optionalFields].filter(field => field).length;\r\n      \r\n      setFormProgress(Math.round((filledFields / totalFields) * 100));\r\n    };\r\n    \r\n    calculateProgress();\r\n  }, [\r\n    formData.visitType,\r\n    formData.visitDate,\r\n    formData.chiefComplaint,\r\n    formData.vitalSigns.bloodPressure,\r\n    formData.vitalSigns.heartRate,\r\n    formData.dischargeSummary.admissionDate,\r\n    formData.dischargeSummary.dischargeDate,\r\n    formData.procedures.surgeryType,\r\n    formData.procedures.surgeryDate,\r\n    includeHospitalStay,\r\n    includeSurgery\r\n  ]);\r\n\r\n  \r\n  \r\n  const removeFile = (fieldName, fileIndex) => {\r\n    setFormData(prev => {\r\n      if (fieldName === 'bloodTests' || fieldName === 'urineTests' || fieldName === 'otherTests') {\r\n        // Revoke URL before removing the file\r\n        const fileToRemove = prev.labResults[fieldName][fileIndex];\r\n        if (fileToRemove?.url) URL.revokeObjectURL(fileToRemove.url);\r\n        \r\n        return {\r\n          ...prev,\r\n          labResults: {\r\n            ...prev.labResults,\r\n            [fieldName]: prev.labResults[fieldName].filter((_, index) => index !== fileIndex)\r\n          }\r\n        };\r\n      }\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  // Component definitions remain the same\r\n  \r\n\r\n  const FilePreview = ({ files, fieldName }) => (\r\n    <div className=\"mt-4 space-y-2\">\r\n      {files.map((file, index) => (\r\n        <div key={index} className=\"flex items-center justify-between p-2 bg-gray-50 rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <FileUp size={20} className=\"text-gray-500\" />\r\n            <span className=\"text-sm text-gray-700\">{file.name}</span>\r\n            <span className=\"text-xs text-gray-500\">\r\n              ({(file.size / 1024 / 1024).toFixed(2)} MB)\r\n            </span>\r\n          </div>\r\n          <button\r\n            onClick={() => removeFile(fieldName, index)}\r\n            className=\"text-red-500 hover:text-red-700\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className='flex'>\r\n      <Sidebar/>\r\n      <div className=\"w-[100%] p-6 space-y-6\">\r\n        {/* Progress Bar */}\r\n        <div className=\"bg-white rounded-xl p-6 shadow-sm\">\r\n          <div className=\"flex justify-between items-center mb-2\">\r\n            <h1 className=\"text-3xl font-bold text-purple-600\">Medical Record</h1>\r\n            <span className=\"text-sm text-gray-600\">{formProgress}% Complete</span>\r\n          </div>\r\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n            <div\r\n              className=\"bg-purple-600 h-2 rounded-full transition-all duration-300\"\r\n              style={{ width: `${formProgress}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Basic Information */}\r\n        <Section \r\n          title=\"Basic Information\" \r\n          icon={<Stethoscope className=\"text-purple-600\" />}\r\n          id=\"basic\"\r\n          isActive={activeSection === 'basic'}\r\n          onToggle={() => setActiveSection(activeSection === 'basic' ? null : 'basic')}\r\n        >\r\n          <div className=\"space-y-4\">\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Visit Type*</label>\r\n                <select \r\n                  name=\"visitType\"\r\n                  className={`w-full p-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${\r\n                    validationErrors.visitType ? 'border-red-500' : 'border-gray-300'\r\n                  }`}\r\n                  value={formData.visitType}\r\n                  onChange={handleInputChange}\r\n                >\r\n                  <option value=\"\">Select Type</option>\r\n                  <option value=\"Outpatient\">Outpatient</option>\r\n                  <option value=\"Inpatient\">Inpatient</option>\r\n                  <option value=\"Emergency\">Emergency</option>\r\n                </select>\r\n                {validationErrors.visitType && (\r\n                  <p className=\"text-red-500 text-sm mt-1\">{validationErrors.visitType}</p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Visit Date*</label>\r\n                <input \r\n                  type=\"date\"\r\n                  name=\"visitDate\"\r\n                  className={`w-full p-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${\r\n                    validationErrors.visitDate ? 'border-red-500' : 'border-gray-300'\r\n                  }`}\r\n                  value={formData.visitDate}\r\n                  onChange={handleInputChange}\r\n                />\r\n                {validationErrors.visitDate && (\r\n                  <p className=\"text-red-500 text-sm mt-1\">{validationErrors.visitDate}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Chief Complaint*</label>\r\n              <textarea\r\n                name=\"chiefComplaint\"\r\n                className={`w-full p-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${\r\n                  validationErrors.chiefComplaint ? 'border-red-500' : 'border-gray-300'\r\n                }`}\r\n                rows={3}\r\n                value={formData.chiefComplaint}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Describe the main reason for visit\"\r\n              />\r\n              {validationErrors.chiefComplaint && (\r\n                <p className=\"text-red-500 text-sm mt-1\">{validationErrors.chiefComplaint}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Section>\r\n\r\n        {/* Diagnostic Information */}\r\n        <Section \r\n          title=\"Diagnostic Information\" \r\n          icon={<Syringe className=\"text-purple-600\" />}\r\n          id=\"diagnostic\"\r\n          isActive={activeSection === 'diagnostic'}\r\n          onToggle={() => setActiveSection(activeSection === 'diagnostic' ? null : 'diagnostic')}\r\n        >\r\n          <div className=\"space-y-6\">\r\n            {/* Vital Signs */}\r\n            <div>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Vital Signs*</h3>\r\n              <div className=\"grid md:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Blood Pressure</label>\r\n                  <input\r\n                    name=\"vitalSigns.bloodPressure\"\r\n                    className={`w-full p-2 border rounded-lg ${\r\n                      validationErrors.bloodPressure ? 'border-red-500' : 'border-gray-300'\r\n                    }`}\r\n                    placeholder=\"120/80 mmHg\"\r\n                    value={formData.vitalSigns.bloodPressure}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Heart Rate</label>\r\n                  <input\r\n                    name=\"vitalSigns.heartRate\"\r\n                    className={`w-full p-2 border rounded-lg ${\r\n                      validationErrors.heartRate ? 'border-red-500' : 'border-gray-300'\r\n                    }`}\r\n                    placeholder=\"BPM\"\r\n                    value={formData.vitalSigns.heartRate}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Temperature</label>\r\n                  <input\r\n                    name=\"vitalSigns.temperature\"\r\n                    className={`w-full p-2 border rounded-lg ${\r\n                      validationErrors.temperature ? 'border-red-500' : 'border-gray-300'\r\n                    }`}\r\n                    placeholder=\"F\"\r\n                    value={formData.vitalSigns.temperature}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Lab Results section remains the same as it uses file handling */}\r\n            <div>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Lab Results</h3>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Blood Tests</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    className=\"hidden\"\r\n                    id=\"blood-tests\"\r\n                    multiple\r\n                    onChange={(e) => handleFileUpload('bloodTests', e.target.files)}\r\n                  />\r\n                  <label \r\n                    htmlFor=\"blood-tests\"\r\n                    className=\"flex items-center gap-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50\"\r\n                  >\r\n                    <PlusCircle className=\"text-purple-600\" />\r\n                    <span>Upload Blood Test Results</span>\r\n                  </label>\r\n                  <FilePreview files={formData.labResults.bloodTests} fieldName=\"bloodTests\" />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Urine Tests</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    className=\"hidden\"\r\n                    id=\"urine-tests\"\r\n                    multiple\r\n                    onChange={(e) => handleFileUpload('urineTests', e.target.files)}\r\n                  />\r\n                  <label \r\n                    htmlFor=\"urine-tests\"\r\n                    className=\"flex items-center gap-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50\"\r\n                  >\r\n                    <PlusCircle className=\"text-purple-600\" />\r\n                    <span>Upload Urine Test Results</span>\r\n                  </label>\r\n                  <FilePreview files={formData.labResults.urineTests} fieldName=\"urineTests\" />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Other Tests</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    className=\"hidden\"\r\n                    id=\"other-tests\"\r\n                    multiple\r\n                    onChange={(e) => handleFileUpload('otherTests', e.target.files)}\r\n                  />\r\n                  <label \r\n                    htmlFor=\"other-tests\"\r\n                    className=\"flex items-center gap-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50\"\r\n                  >\r\n                    <PlusCircle className=\"text-purple-600\" />\r\n                    <span>Upload Other Test Results</span>\r\n                  </label>\r\n                  <FilePreview files={formData.labResults.otherTests} fieldName=\"otherTests\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </Section>\r\n\r\n        {/* Hospital Stay Section */}\r\n        <Section \r\n          title=\"Hospital Stay\" \r\n          icon={<Building2 className=\"text-purple-600\" />}\r\n          id=\"hospital\"\r\n          isActive={activeSection === 'hospital'}\r\n          onToggle={() => setActiveSection(activeSection === 'hospital' ? null : 'hospital')}\r\n        >\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"include-hospital\"\r\n                checked={includeHospitalStay}\r\n                onChange={(e) => setIncludeHospitalStay(e.target.checked)}\r\n                className=\"rounded text-purple-600 focus:ring-purple-500\"\r\n              />\r\n              <label htmlFor=\"include-hospital\" className=\"text-sm text-gray-700\">\r\n                Include Hospital Stay Information\r\n              </label>\r\n            </div>\r\n\r\n            {includeHospitalStay && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Admission Date*</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      name=\"dischargeSummary.admissionDate\"\r\n                      className={`w-full p-2 border rounded-lg ${\r\n                        validationErrors.admissionDate ? 'border-red-500' : 'border-gray-300'\r\n                      }`}\r\n                      value={formData.dischargeSummary.admissionDate}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Discharge Date*</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      name=\"dischargeSummary.dischargeDate\"\r\n                      className={`w-full p-2 border rounded-lg ${\r\n                        validationErrors.dischargeDate ? 'border-red-500' : 'border-gray-300'\r\n                      }`}\r\n                      value={formData.dischargeSummary.dischargeDate}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Inpatient Summary</label>\r\n                  <textarea\r\n                    name=\"dischargeSummary.inpatientSummary\"\r\n                    className=\"w-full p-2 border border-gray-300 rounded-lg\"\r\n                    rows={4}\r\n                    value={formData.dischargeSummary.inpatientSummary}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Enter inpatient summary\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Section>\r\n\r\n        {/* Surgery Section */}\r\n        <Section \r\n          title=\"Surgery Information\" \r\n          icon={<AlertCircle className=\"text-purple-600\" />}\r\n          id=\"surgery\"\r\n          isActive={activeSection === 'surgery'}\r\n          onToggle={() => setActiveSection(activeSection === 'surgery' ? null : 'surgery')}\r\n        >\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"include-surgery\"\r\n                checked={includeSurgery}\r\n                onChange={(e) => setIncludeSurgery(e.target.checked)}\r\n                className=\"rounded text-purple-600 focus:ring-purple-500\"\r\n              />\r\n              <label htmlFor=\"include-surgery\" className=\"text-sm text-gray-700\">\r\n                Include Surgery Information\r\n              </label>\r\n            </div>\r\n\r\n            {includeSurgery && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Surgery Type*</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"procedures.surgeryType\"\r\n                      className={`w-full p-2 border rounded-lg ${\r\n                        validationErrors.surgeryType ? 'border-red-500' : 'border-gray-300'\r\n                      }`}\r\n                      value={formData.procedures.surgeryType}\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"Enter surgery type\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Surgery Date*</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      name=\"procedures.surgeryDate\"\r\n                      className={`w-full p-2 border rounded-lg ${\r\n                        validationErrors.surgeryDate ? 'border-red-500' : 'border-gray-300'\r\n                      }`}\r\n                      value={formData.procedures.surgeryDate}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Procedure Summary</label>\r\n                  <textarea\r\n                    name=\"procedures.procedureSummary\"\r\n                    className=\"w-full p-2 border border-gray-300 rounded-lg\"\r\n                    rows={4}\r\n                    value={formData.procedures.procedureSummary}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Enter procedure summary\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Post-Op Instructions</label>\r\n                  <textarea\r\n                    name=\"procedures.postOpInstructions\"\r\n                    className=\"w-full p-2 border border-gray-300 rounded-lg\"\r\n                    rows={4}\r\n                    value={formData.procedures.postOpInstructions}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Enter post-operative instructions\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Section>\r\n\r\n        {/* Form Actions */}\r\n        <div className=\"flex justify-end gap-4\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200\"\r\n            onClick={() => {\r\n              setFormData({\r\n                id: '',\r\n                visitType: '',\r\n                visitDate: '',\r\n                chiefComplaint: '',\r\n                vitalSigns: {\r\n                  bloodPressure: '',\r\n                  heartRate: '',\r\n                  temperature: '',\r\n                  respiratoryRate: '',\r\n                  oxygenSaturation: '',\r\n                },\r\n                diagnosticTests: [],\r\n                labResults: {\r\n                  bloodTests: [],\r\n                  urineTests: [],\r\n                  otherTests: []\r\n                },\r\n                impressions: '',\r\n                dischargeSummary: {\r\n                  admissionDate: '',\r\n                  dischargeDate: '',\r\n                  inpatientSummary: '',\r\n                  referrals: []\r\n                },\r\n                procedures: {\r\n                  surgeryType: '',\r\n                  surgeryDate: '',\r\n                  anesthesiaType: '',\r\n                  procedureSummary: '',\r\n                  complications: '',\r\n                  postOpInstructions: ''\r\n                }\r\n              });\r\n              setValidationErrors({});\r\n            }}\r\n          >\r\n            Reset Form\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"px-4 py-2 text-white bg-purple-600 rounded-lg hover:bg-purple-700\"\r\n            onClick={handleFormSubmission}\r\n          >\r\n            Save Record\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddMedicalRecord;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}